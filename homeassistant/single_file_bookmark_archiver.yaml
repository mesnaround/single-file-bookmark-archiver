# Home Assistant MQTT Sensors for Single File Bookmark Archiver
#
# Include this in your Home Assistant configuration.yaml. One structure option:
#   mqtt: !include_dir_merge_list mqtt/
#
# Then copy this file to: <config>/mqtt/single_file_bookmark_archiver.yaml


# Main sync status sensor
- name: "Single File Bookmark Archiver Status"
  unique_id: single_file_bookmark_archiver_status
  state_topic: "homeassistant/sensor/single_file_bookmark_archiver/state"
  json_attributes_topic: "homeassistant/sensor/single_file_bookmark_archiver/attributes"
  icon: >
    {% if value == 'success' %}
      mdi:check-circle
    {% elif value == 'failed' %}
      mdi:alert-circle
    {% elif value == 'running' %}
      mdi:sync
    {% else %}
      mdi:help-circle
    {% endif %}
  availability:
    - topic: "homeassistant/sensor/single_file_bookmark_archiver/availability"

# Sync duration sensor
- name: "Single File Bookmark Archiver Duration"
  unique_id: single_file_bookmark_archiver_duration
  state_topic: "homeassistant/sensor/single_file_bookmark_archiver/duration"
  unit_of_measurement: "s"
  device_class: duration
  state_class: measurement
  icon: mdi:timer-outline
